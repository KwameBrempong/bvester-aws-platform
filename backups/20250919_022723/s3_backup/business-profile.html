<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Profile - Bvester</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: #000000;
            color: #ffffff;
            line-height: 1.6;
        }

        /* Navigation */
        .nav-container {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 16px 24px;
            border-bottom: 1px solid #ffd700;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.1);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            color: #ffd700;
            text-decoration: none;
            flex-shrink: 0;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-btn {
            color: #ffd700;
            text-decoration: none;
            font-weight: 500;
            padding: 12px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            touch-action: manipulation;
        }

        .nav-btn:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-1px);
        }

        /* Mobile Navigation Toggle */
        .nav-toggle {
            display: none;
            background: none;
            border: none;
            color: #ffd700;
            font-size: 24px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            min-height: 44px;
            min-width: 44px;
            touch-action: manipulation;
        }

        .nav-toggle:hover {
            background: rgba(255, 215, 0, 0.1);
        }

        /* Main Container */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 24px;
            width: 100%;
            box-sizing: border-box;
        }

        /* Profile Header */
        .profile-header {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }

        .profile-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ffd700, transparent);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        .header-content {
            display: flex;
            gap: 32px;
            align-items: flex-start;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 24px;
                text-align: center;
            }
        }

        /* Logo Upload */
        .logo-upload {
            position: relative;
            flex-shrink: 0;
        }

        .logo-container {
            width: 120px;
            height: 120px;
            border-radius: 20px;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #000000;
            font-weight: 800;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo-container:hover {
            transform: scale(1.05);
        }

        .logo-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
        }

        .logo-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 20px;
        }

        .logo-container:hover .logo-overlay {
            opacity: 1;
        }

        .logo-upload-text {
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
        }

        .logo-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Profile Info */
        .profile-info {
            flex: 1;
        }

        .company-name {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #ffd700 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .company-tagline {
            font-size: 18px;
            color: #cccccc;
            margin-bottom: 16px;
        }

        .company-stats {
            display: flex;
            gap: 32px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .company-stats {
                justify-content: center;
            }
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #ffd700;
            display: block;
        }

        .stat-label {
            font-size: 12px;
            color: #cccccc;
            font-weight: 500;
        }

        .profile-actions {
            display: flex;
            gap: 16px;
        }

        @media (max-width: 768px) {
            .profile-actions {
                justify-content: center;
            }
        }

        .profile-btn {
            background: rgba(255, 255, 255, 0.1);
            color: #ffd700;
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .profile-btn:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #ffd700;
        }

        .profile-btn.primary {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
            color: #000000;
            border: none;
        }

        .profile-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
        }

        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 32px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 215, 0, 0.1);
            margin-bottom: 24px;
        }

        /* Section Tabs */
        .section-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 32px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            overflow-x: auto;
        }

        .section-tab {
            flex: 1;
            padding: 12px 16px;
            border-radius: 8px;
            background: transparent;
            border: none;
            color: #cccccc;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        .section-tab.active {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
            color: #000000;
            font-weight: 600;
        }

        /* Form Sections */
        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #ffd700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        /* CEO Profile Section */
        .ceo-profile {
            display: flex;
            gap: 24px;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .ceo-photo-upload {
            position: relative;
            flex-shrink: 0;
        }

        .ceo-photo-container {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: #000000;
            font-weight: 700;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .ceo-photo-container:hover {
            transform: scale(1.05);
        }

        .ceo-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .ceo-photo-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 50%;
        }

        .ceo-photo-container:hover .ceo-photo-overlay {
            opacity: 1;
        }

        .ceo-photo-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Sidebar */
        .sidebar-section {
            margin-bottom: 24px;
        }

        .sidebar-title {
            color: #ffd700;
            font-weight: 600;
            margin-bottom: 16px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .progress-item:last-child {
            border-bottom: none;
        }

        .progress-label {
            color: #ffffff;
            font-size: 14px;
        }

        .progress-value {
            color: #ffd700;
            font-weight: 600;
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ffed4a);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 16px;
            justify-content: flex-end;
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
        }

        .btn {
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
            color: #000000;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(255, 215, 0, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffd700;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #ffd700;
        }

        /* COMPREHENSIVE MOBILE UI IMPROVEMENTS */
        
        /* COMPREHENSIVE MOBILE UI IMPROVEMENTS */
        
        /* Touch-friendly interactions */
        .btn, .action-btn, .form-input, .nav-actions a {
            min-height: 48px; /* Apple/Android recommended touch target */
            touch-action: manipulation; /* Prevent zoom on tap */
        }

        /* Mobile Navigation Styles */
        @media (max-width: 768px) {
            .nav-toggle {
                display: block;
            }
            
            .nav-actions {
                position: fixed;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.98);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                flex-direction: column;
                gap: 0;
                border-top: 1px solid #ffd700;
                border-bottom: 1px solid #ffd700;
                padding: 0;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.3s ease;
                z-index: 999;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            }
            
            .nav-actions.active {
                transform: translateY(0);
                opacity: 1;
            }
            
            .nav-btn {
                width: 100%;
                padding: 20px 24px;
                border-bottom: 1px solid rgba(255, 215, 0, 0.1);
                border-radius: 0;
                min-height: 60px;
                font-size: 16px;
                justify-content: flex-start;
            }
            
            .nav-btn:last-child {
                border-bottom: none;
            }
            
            .nav-btn:hover {
                background: rgba(255, 215, 0, 0.1);
                transform: none;
            }
        }

        /* Small Mobile: up to 480px */
        @media (max-width: 480px) {
            body {
                font-size: 16px; /* Prevent zoom on iOS */
            }

            .nav-container {
                padding: 16px;
                position: sticky;
                top: 0;
                z-index: 1000;
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                background: rgba(0, 0, 0, 0.98);
                border-bottom: 1px solid #ffd700;
            }
            
            .nav-content {
                max-width: none;
                width: 100%;
                margin: 0;
                padding: 0;
            }
            
            .logo {
                font-size: 20px;
            }
            
            .main-container {
                padding: 20px 16px;
                margin-top: 0;
                max-width: none;
                width: 100%;
            }
            
            .profile-header {
                padding: 20px 16px;
                margin-bottom: 20px;
                border-radius: 16px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
            
            .logo-container {
                width: 80px;
                height: 80px;
                font-size: 32px;
                margin: 0 auto;
            }
            
            .company-name {
                font-size: 24px;
                line-height: 1.2;
                margin-bottom: 8px;
            }

            .company-tagline {
                font-size: 14px;
                line-height: 1.3;
                margin-bottom: 16px;
            }

            .company-stats {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                margin-bottom: 16px;
            }

            .stat-item {
                padding: 12px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                text-align: center;
            }

            .stat-value {
                font-size: 16px;
                font-weight: 700;
                display: block;
                margin-bottom: 4px;
            }

            .stat-label {
                font-size: 11px;
                opacity: 0.8;
            }

            .profile-actions {
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            .profile-btn {
                padding: 14px 20px;
                font-size: 14px;
                border-radius: 12px;
                text-align: center;
                min-height: 48px;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }

            /* Form sections */
            .form-content {
                padding: 16px;
            }

            .section-navigation {
                display: flex;
                overflow-x: auto;
                gap: 8px;
                padding: 16px;
                margin-bottom: 20px;
                background: rgba(255, 255, 255, 0.02);
                border-radius: 12px;
                -webkit-overflow-scrolling: touch;
            }

            .section-nav-item {
                min-width: 120px;
                padding: 12px 16px;
                background: rgba(255, 255, 255, 0.05);
                border: 1px solid rgba(255, 215, 0, 0.2);
                border-radius: 8px;
                text-align: center;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
                white-space: nowrap;
            }

            .section-nav-item.active {
                background: #ffd700;
                color: #000;
                border-color: #ffd700;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .form-group {
                margin-bottom: 16px;
            }

            .form-label {
                font-size: 14px;
                font-weight: 600;
                margin-bottom: 8px;
                display: block;
            }

            .form-input, .form-textarea {
                padding: 16px;
                font-size: 16px; /* Prevent zoom on iOS */
                border-radius: 12px;
                border: 2px solid rgba(255, 255, 255, 0.1);
                background: rgba(255, 255, 255, 0.05);
                color: #fff;
                width: 100%;
                min-height: 48px;
            }

            .form-input:focus, .form-textarea:focus {
                border-color: #ffd700;
                background: rgba(255, 255, 255, 0.08);
                transform: none; /* Prevent iOS zoom */
            }

            .form-textarea {
                min-height: 120px;
                resize: vertical;
            }

            /* Action buttons */
            .action-buttons {
                display: flex;
                flex-direction: column;
                gap: 12px;
                padding: 20px 16px;
                background: rgba(255, 255, 255, 0.02);
                border-radius: 12px;
                margin-top: 24px;
                border: 1px solid rgba(255, 215, 0, 0.2);
            }

            .btn {
                padding: 16px 24px;
                font-size: 16px;
                font-weight: 600;
                border-radius: 12px;
                border: none;
                min-height: 52px;
                cursor: pointer;
                transition: all 0.2s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }

            .btn-primary {
                background: linear-gradient(135deg, #ffd700, #ffed4a);
                color: #000;
                box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
            }

            .btn-primary:hover, .btn-primary:active {
                transform: translateY(-2px);
                box-shadow: 0 6px 25px rgba(255, 215, 0, 0.4);
            }

            .btn-secondary {
                background: rgba(255, 255, 255, 0.1);
                color: #ffd700;
                border: 2px solid rgba(255, 215, 0, 0.3);
            }

            .btn-secondary:hover, .btn-secondary:active {
                background: rgba(255, 215, 0, 0.1);
                border-color: #ffd700;
            }

            /* CEO photo upload */
            .ceo-profile {
                flex-direction: column;
                align-items: center;
                gap: 20px;
                text-align: center;
            }

            .ceo-photo-container {
                width: 100px;
                height: 100px;
                margin: 0 auto 20px;
            }

            /* Hide complex elements on very small screens */
            .logo-upload-text {
                font-size: 12px;
            }
        }

        /* Medium Mobile: 481px to 768px */
        @media (min-width: 481px) and (max-width: 768px) {
            .nav-container {
                padding: 16px 20px;
            }
            
            .nav-content {
                max-width: none;
                width: 100%;
            }
            
            .main-container {
                padding: 24px 20px;
                max-width: none;
                width: 100%;
            }

            .profile-header {
                padding: 32px 24px;
            }

            .form-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .company-stats {
                grid-template-columns: repeat(4, 1fr);
            }

            .action-buttons {
                flex-direction: row;
                justify-content: space-between;
            }

            .btn {
                flex: 1;
                max-width: 200px;
                min-height: 48px;
            }
        }

        /* Tablet optimizations */
        @media (min-width: 769px) and (max-width: 1024px) {
            .nav-container {
                padding: 16px 24px;
            }
            
            .nav-toggle {
                display: none;
            }
            
            .nav-actions {
                position: static;
                flex-direction: row;
                background: none;
                border: none;
                transform: none;
                opacity: 1;
                box-shadow: none;
                gap: 16px;
            }
            
            .nav-btn {
                width: auto;
                padding: 12px 20px;
                border-bottom: none;
                border-radius: 8px;
                min-height: 44px;
                font-size: 14px;
                justify-content: center;
            }
            
            .main-container {
                max-width: 800px;
                margin: 0 auto;
                padding: 32px 24px;
                width: 100%;
            }

            .form-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Large screens - ensure proper desktop behavior */
        @media (min-width: 1025px) {
            .nav-toggle {
                display: none;
            }
            
            .nav-actions {
                position: static;
                flex-direction: row;
                background: none;
                border: none;
                transform: none;
                opacity: 1;
                box-shadow: none;
                gap: 16px;
            }
            
            .nav-btn {
                width: auto;
                padding: 12px 20px;
                border-bottom: none;
                border-radius: 8px;
                min-height: 44px;
                font-size: 14px;
                justify-content: center;
            }
        }

        /* Enhanced loading states for mobile */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .loading-content {
            text-align: center;
            color: #ffd700;
            padding: 24px;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            border-top-color: #ffd700;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Improved error messages for mobile */
        .error-message, .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white;
            padding: 20px 24px;
            border-radius: 16px;
            z-index: 10001;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 90vw;
            width: 350px;
            animation: slideInScale 0.3s ease-out;
        }

        .success-message {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        @keyframes slideInScale {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="nav-container">
        <div class="nav-content">
            <a href="index.html" class="logo">Bvester</a>
            <button class="nav-toggle" onclick="toggleMobileNav()" aria-label="Toggle navigation">
                <span id="nav-toggle-icon">☰</span>
            </button>
            <div class="nav-actions" id="nav-actions">
                <a href="startup-dashboard.html" class="nav-btn" onclick="closeMobileNav()">Dashboard</a>
                <a href="business-profile.html" class="nav-btn" onclick="closeMobileNav()">Profile</a>
                <a href="index.html" class="nav-btn" onclick="closeMobileNav()">Logout</a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div class="header-content">
                <div class="logo-upload">
                    <div class="logo-container" onclick="document.getElementById('logo-upload').click()">
                        <span id="logo-placeholder">TC</span>
                        <img id="logo-image" class="logo-image" style="display: none;">
                        <div class="logo-overlay">
                            <div class="logo-upload-text">Change Logo</div>
                        </div>
                        <input type="file" id="logo-upload" class="logo-input" accept="image/*">
                    </div>
                </div>

                <div class="profile-info">
                    <h1 class="company-name" id="display-company-name">Your Business Name</h1>
                    <p class="company-tagline" id="display-tagline">Your business tagline</p>
                    
                    <div class="company-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="display-funding">$0</span>
                            <span class="stat-label">Raised</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="display-investors">0</span>
                            <span class="stat-label">Investors</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="display-valuation">$0</span>
                            <span class="stat-label">Valuation</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="display-employees">1</span>
                            <span class="stat-label">Employees</span>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <a href="#" class="profile-btn primary">
                            👁️ Public Profile
                        </a>
                        <a href="#" class="profile-btn">
                            📊 Analytics
                        </a>
                        <a href="#" class="profile-btn">
                            🔗 Share
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Main Content -->
            <div class="glass-card">
                <!-- Section Tabs -->
                <div class="section-tabs">
                    <button class="section-tab active" onclick="switchSection('company', this)">
                        🏢 Company Info
                    </button>
                    <button class="section-tab" onclick="switchSection('founder', this)">
                        👤 Founder/CEO
                    </button>
                    <button class="section-tab" onclick="switchSection('business', this)">
                        📊 Business Details
                    </button>
                    <button class="section-tab" onclick="switchSection('social', this)">
                        🌐 Social & Media
                    </button>
                </div>

                <!-- Company Info Section -->
                <div class="form-section active" id="company-section">
                    <div class="section-title">
                        🏢 Company Information
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="company-name">Company Name *</label>
                            <input type="text" id="company-name" class="form-input" placeholder="Your Company Name" value="" onchange="updateDisplay()">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="legal-name">Legal Name</label>
                            <input type="text" id="legal-name" class="form-input" placeholder="TechCorp Africa Limited" value="TechCorp Africa Limited">
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="tagline">Company Tagline *</label>
                            <input type="text" id="tagline" class="form-input" placeholder="Revolutionary fintech solutions for Africa" value="Revolutionary fintech solutions for Africa" onchange="updateDisplay()">
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="description">Company Description *</label>
                            <textarea id="description" class="form-input form-textarea" placeholder="Describe your company, mission, and what makes you unique...">>TechCorp Africa is revolutionizing financial services across the continent by providing innovative payment solutions that bridge the gap between traditional banking and modern digital finance. Our platform enables seamless transactions for rural and urban communities alike.</textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="industry">Industry *</label>
                            <select id="industry" class="form-input">
                                <option value="fintech">Fintech</option>
                                <option value="ecommerce">E-commerce</option>
                                <option value="healthtech">HealthTech</option>
                                <option value="agritech">AgriTech</option>
                                <option value="edtech">EdTech</option>
                                <option value="logistics">Logistics</option>
                                <option value="energy">Clean Energy</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="founded-year">Founded Year *</label>
                            <input type="number" id="founded-year" class="form-input" placeholder="2022" value="2022" min="1900" max="2025">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="employees">Number of Employees *</label>
                            <input type="number" id="employees" class="form-input" placeholder="28" value="28" onchange="updateDisplay()">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="stage">Company Stage *</label>
                            <select id="stage" class="form-input">
                                <option value="seed">Seed</option>
                                <option value="pre-series-a" selected>Pre-Series A</option>
                                <option value="series-a">Series A</option>
                                <option value="series-b">Series B</option>
                                <option value="growth">Growth</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="location">Headquarters Location *</label>
                            <input type="text" id="location" class="form-input" placeholder="Lagos, Nigeria" value="Lagos, Nigeria">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="website">Website URL</label>
                            <input type="url" id="website" class="form-input" placeholder="https://techcorp.africa" value="https://techcorp.africa">
                        </div>
                    </div>
                </div>

                <!-- Founder/CEO Section -->
                <div class="form-section" id="founder-section">
                    <div class="section-title">
                        👤 Founder/CEO Information
                    </div>

                    <div class="ceo-profile">
                        <div class="ceo-photo-upload">
                            <div class="ceo-photo-container" onclick="document.getElementById('ceo-photo-upload').click()">
                                <span id="ceo-photo-placeholder">SE</span>
                                <img id="ceo-photo-image" class="ceo-photo" style="display: none;">
                                <div class="ceo-photo-overlay">
                                    <div class="logo-upload-text">📷</div>
                                </div>
                                <input type="file" id="ceo-photo-upload" class="ceo-photo-input" accept="image/*">
                            </div>
                        </div>

                        <div style="flex: 1;">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label" for="ceo-name">Full Name *</label>
                                    <input type="text" id="ceo-name" class="form-input" placeholder="Sarah Entrepreneur" value="Sarah Entrepreneur">
                                </div>

                                <div class="form-group">
                                    <label class="form-label" for="ceo-title">Title *</label>
                                    <input type="text" id="ceo-title" class="form-input" placeholder="CEO & Co-Founder" value="CEO & Co-Founder">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="ceo-email">Email Address *</label>
                            <input type="email" id="ceo-email" class="form-input" placeholder="sarah@techcorp.africa" value="sarah@techcorp.africa">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ceo-phone">Phone Number</label>
                            <input type="tel" id="ceo-phone" class="form-input" placeholder="+234 XXX XXX XXXX" value="+234 801 234 5678">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ceo-linkedin">LinkedIn Profile</label>
                            <input type="url" id="ceo-linkedin" class="form-input" placeholder="https://linkedin.com/in/sarah-entrepreneur" value="https://linkedin.com/in/sarah-entrepreneur">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ceo-twitter">Twitter/X Handle</label>
                            <input type="text" id="ceo-twitter" class="form-input" placeholder="@sarahentrepreneur" value="@sarahentrepreneur">
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="ceo-bio">Biography *</label>
                            <textarea id="ceo-bio" class="form-input form-textarea" placeholder="Tell investors about your background, experience, and vision...">Sarah is a seasoned fintech entrepreneur with over 8 years of experience in African financial services. She previously worked at Goldman Sachs and holds an MBA from INSEAD. Her vision is to democratize financial access across Africa through innovative technology solutions.</textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ceo-experience">Years of Experience</label>
                            <input type="number" id="ceo-experience" class="form-input" placeholder="8" value="8" min="0">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ceo-education">Education Background</label>
                            <input type="text" id="ceo-education" class="form-input" placeholder="MBA, INSEAD" value="MBA, INSEAD">
                        </div>
                    </div>
                </div>

                <!-- Business Details Section -->
                <div class="form-section" id="business-section">
                    <div class="section-title">
                        📊 Business Details
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="revenue-model">Revenue Model *</label>
                            <select id="revenue-model" class="form-input">
                                <option value="subscription">Subscription</option>
                                <option value="transaction" selected>Transaction Fees</option>
                                <option value="freemium">Freemium</option>
                                <option value="marketplace">Marketplace</option>
                                <option value="saas">SaaS</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="target-market">Target Market *</label>
                            <input type="text" id="target-market" class="form-input" placeholder="SMEs and individual users" value="SMEs and individual users across Africa">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="customers-count">Current Customers</label>
                            <input type="number" id="customers-count" class="form-input" placeholder="2847" value="2847">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="market-size">Total Addressable Market</label>
                            <input type="text" id="market-size" class="form-input" placeholder="$50B" value="$50B">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="funding-raised">Total Funding Raised</label>
                            <input type="number" id="funding-raised" class="form-input" placeholder="340000" value="340000" onchange="updateDisplay()">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="valuation">Current Valuation</label>
                            <input type="number" id="valuation" class="form-input" placeholder="2500000" value="2500000" onchange="updateDisplay()">
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="competitive-advantage">Competitive Advantage *</label>
                            <textarea id="competitive-advantage" class="form-input form-textarea" placeholder="What makes your company unique?">Our proprietary blockchain-based payment infrastructure offers 10x faster transaction processing than traditional systems, with 99.9% uptime and support for over 50 African currencies. We have exclusive partnerships with major telecom providers across 15 countries.</textarea>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="growth-strategy">Growth Strategy *</label>
                            <textarea id="growth-strategy" class="form-input form-textarea" placeholder="Describe your plans for scaling and expansion...">Our growth strategy focuses on geographic expansion across West and East Africa, strategic partnerships with banks and fintech companies, and product diversification into lending and investment services. We plan to achieve 10x user growth within 18 months.</textarea>
                        </div>
                    </div>
                </div>

                <!-- Social & Media Section -->
                <div class="form-section" id="social-section">
                    <div class="section-title">
                        🌐 Social Media & Press
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="company-linkedin">Company LinkedIn</label>
                            <input type="url" id="company-linkedin" class="form-input" placeholder="https://linkedin.com/company/techcorp-africa" value="https://linkedin.com/company/techcorp-africa">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="company-twitter">Company Twitter/X</label>
                            <input type="text" id="company-twitter" class="form-input" placeholder="@techcorpafrica" value="@techcorpafrica">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="company-facebook">Facebook Page</label>
                            <input type="url" id="company-facebook" class="form-input" placeholder="https://facebook.com/techcorpafrica">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="company-instagram">Instagram</label>
                            <input type="text" id="company-instagram" class="form-input" placeholder="@techcorpafrica">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="company-youtube">YouTube Channel</label>
                            <input type="url" id="company-youtube" class="form-input" placeholder="https://youtube.com/@techcorpafrica">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="press-kit">Press Kit URL</label>
                            <input type="url" id="press-kit" class="form-input" placeholder="https://techcorp.africa/press">
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label" for="media-coverage">Recent Media Coverage</label>
                            <textarea id="media-coverage" class="form-input form-textarea" placeholder="List any recent press coverage, awards, or recognition...">Featured in TechCrunch Africa (Jan 2025), Winner of Lagos Fintech Awards 2024, Keynote speaker at Africa Tech Summit 2024. Recognized as one of "Top 10 African Fintech Startups to Watch" by Forbes Africa.</textarea>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="saveDraft()">
                        💾 Save Draft
                    </button>
                    <button class="btn btn-secondary" onclick="previewProfile()">
                        👁️ Preview
                    </button>
                    <button class="btn btn-primary" onclick="updateProfile()">
                        ✅ Update Profile
                    </button>
                </div>
            </div>

            <!-- Sidebar -->
            <div>
                <!-- Profile Completion -->
                <div class="glass-card">
                    <div class="sidebar-section">
                        <div class="sidebar-title">
                            📊 Profile Completion
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Overall Progress</span>
                            <span class="progress-value">85%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <div class="progress-item">
                            <span class="progress-label">Company Info</span>
                            <span class="progress-value">✅</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Founder Details</span>
                            <span class="progress-value">✅</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Business Details</span>
                            <span class="progress-value">✅</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Social Media</span>
                            <span class="progress-value">🔶</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Documents</span>
                            <span class="progress-value">✅</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="glass-card">
                    <div class="sidebar-section">
                        <div class="sidebar-title">
                            ⚡ Quick Actions
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <a href="upload-docs.html" class="profile-btn">
                                📄 Upload Documents
                            </a>
                            <a href="post-campaign-update.html" class="profile-btn">
                                📝 Post Update
                            </a>
                            <a href="message-investors.html" class="profile-btn">
                                💌 Message Investors
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Section switching
        function switchSection(sectionName, element) {
            // Hide all sections
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.section-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.add('active');
            element.classList.add('active');
        }

        // Image upload handlers
        document.getElementById('logo-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('logo-image').src = e.target.result;
                    document.getElementById('logo-image').style.display = 'block';
                    document.getElementById('logo-placeholder').style.display = 'none';
                }
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('ceo-photo-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('ceo-photo-image').src = e.target.result;
                    document.getElementById('ceo-photo-image').style.display = 'block';
                    document.getElementById('ceo-photo-placeholder').style.display = 'none';
                }
                reader.readAsDataURL(file);
            }
        });

        // Update display values
        function updateDisplay() {
            const companyName = document.getElementById('company-name').value;
            const tagline = document.getElementById('tagline').value;
            const employees = document.getElementById('employees').value;
            const fundingRaised = document.getElementById('funding-raised').value;
            const valuation = document.getElementById('valuation').value;

            if (companyName) {
                document.getElementById('display-company-name').textContent = companyName;
            }
            if (tagline) {
                document.getElementById('display-tagline').textContent = tagline;
            }
            if (employees) {
                document.getElementById('display-employees').textContent = employees.toLocaleString();
            }
            if (fundingRaised) {
                const funding = parseFloat(fundingRaised);
                document.getElementById('display-funding').textContent = '$' + (funding >= 1000000 ? (funding/1000000).toFixed(1) + 'M' : (funding/1000).toFixed(0) + 'K');
            }
            if (valuation) {
                const val = parseFloat(valuation);
                document.getElementById('display-valuation').textContent = '$' + (val >= 1000000 ? (val/1000000).toFixed(1) + 'M' : (val/1000).toFixed(0) + 'K');
            }
        }

        // Save draft
        function saveDraft() {
            const formData = {
                companyName: document.getElementById('company-name').value,
                tagline: document.getElementById('tagline').value,
                description: document.getElementById('description').value,
                industry: document.getElementById('industry').value,
                foundedYear: document.getElementById('founded-year').value,
                employees: document.getElementById('employees').value,
                stage: document.getElementById('stage').value,
                location: document.getElementById('location').value,
                website: document.getElementById('website').value,
                ceoName: document.getElementById('ceo-name').value,
                ceoTitle: document.getElementById('ceo-title').value,
                ceoBio: document.getElementById('ceo-bio').value,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('businessProfileDraft', JSON.stringify(formData));
            alert('💾 Profile draft saved successfully! You can continue editing later.');
        }

        // Preview profile
        function previewProfile() {
            const companyName = document.getElementById('company-name').value;
            const tagline = document.getElementById('tagline').value;
            const ceoName = document.getElementById('ceo-name').value;
            const industry = document.getElementById('industry').value;
            
            alert(`🔍 Profile Preview:\n\n${companyName}\n${tagline}\n\nFounder: ${ceoName}\nIndustry: ${industry}\n\nYour profile will be visible to investors with all the information you've provided.`);
        }

        // Legacy function removed - Firebase version implemented below

        // Load draft on page load
        document.addEventListener('DOMContentLoaded', function() {
            const draft = localStorage.getItem('businessProfileDraft');
            if (draft) {
                const data = JSON.parse(draft);
                
                if (confirm('You have a saved profile draft. Would you like to load it?')) {
                    Object.keys(data).forEach(key => {
                        const element = document.getElementById(key.replace(/([A-Z])/g, '-$1').toLowerCase());
                        if (element && key !== 'timestamp') {
                            element.value = data[key];
                        }
                    });
                    
                    updateDisplay();
                }
            }
        });

        // Mobile navigation toggle functions
        function toggleMobileNav() {
            const navActions = document.getElementById('nav-actions');
            const toggleIcon = document.getElementById('nav-toggle-icon');
            
            if (navActions.classList.contains('active')) {
                closeMobileNav();
            } else {
                navActions.classList.add('active');
                toggleIcon.innerHTML = '✕';
                document.body.style.overflow = 'hidden'; // Prevent background scroll
            }
        }
        
        function closeMobileNav() {
            const navActions = document.getElementById('nav-actions');
            const toggleIcon = document.getElementById('nav-toggle-icon');
            
            navActions.classList.remove('active');
            toggleIcon.innerHTML = '☰';
            document.body.style.overflow = ''; // Restore scroll
        }
        
        // Close mobile nav when clicking outside
        document.addEventListener('click', function(event) {
            const navContainer = document.querySelector('.nav-container');
            const navActions = document.getElementById('nav-actions');
            
            if (!navContainer.contains(event.target) && navActions.classList.contains('active')) {
                closeMobileNav();
            }
        });
        
        // Close mobile nav on window resize (when switching to desktop)
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                closeMobileNav();
            }
        });
        
        console.log('Bvester Business Profile - Complete Company Profile Management - Mobile Optimized');
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    
    <!-- Bvester API Client -->
    <script src="js/api-client.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            projectId: "bizinvest-hub-prod",
            appId: "1:19849690024:web:134ceb9fc20fec428a3b9d",
            storageBucket: "bizinvest-hub-prod.firebasestorage.app",
            apiKey: "AIzaSyAdTIb1Hpue64ZqzkcsjlTWP747TW_CJ80",
            authDomain: "bizinvest-hub-prod.firebaseapp.com",
            messagingSenderId: "19849690024",
            measurementId: "G-3M77VNP2YC"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        let currentUser = null;
        let currentBusinessData = null;

        // Authentication check and data loading
        firebase.auth().onAuthStateChanged(async function(user) {
            if (user) {
                currentUser = user;
                console.log('✅ User authenticated:', user.email);
                
                // Load user's business profile data
                await loadBusinessProfileData();
            } else {
                console.log('❌ User not authenticated, redirecting to login');
                window.location.href = 'login.html';
            }
        });

        async function loadBusinessProfileData() {
            try {
                console.log('📊 Loading business profile data...');
                
                // Show loading state
                showLoadingState();
                
                // Try to get business data from Firestore
                const db = firebase.firestore();
                const businessDoc = await db.collection('businesses').doc(currentUser.uid).get();
                
                if (businessDoc.exists) {
                    currentBusinessData = businessDoc.data();
                    console.log('✅ Business profile loaded from Firestore:', currentBusinessData);
                    populateFormWithData(currentBusinessData);
                } else {
                    console.log('ℹ️ No existing business profile found, loading user data...');
                    
                    // Try to get user data to pre-populate some fields
                    const userDoc = await db.collection('users').doc(currentUser.uid).get();
                    if (userDoc.exists) {
                        const userData = userDoc.data();
                        console.log('✅ User data loaded:', userData);
                        populateFormWithUserData(userData);
                    } else {
                        console.log('ℹ️ No user data found, showing empty form');
                        populateFormWithDefaults();
                    }
                }
                
                hideLoadingState();
                
            } catch (error) {
                console.error('❌ Error loading business profile:', error);
                hideLoadingState();
                showErrorMessage('Failed to load profile data. Showing empty form.');
                populateFormWithDefaults();
            }
        }

        function populateFormWithData(data) {
            console.log('🔄 Populating form with business data...');
            
            // Company Information
            setFieldValue('company-name', data.basicInfo?.businessName || data.businessName || '');
            setFieldValue('legal-name', data.basicInfo?.legalName || data.legalName || '');
            setFieldValue('tagline', data.basicInfo?.tagline || data.tagline || '');
            setFieldValue('description', data.basicInfo?.description || data.description || '');
            setFieldValue('industry', data.basicInfo?.industry || data.industry || 'fintech');
            setFieldValue('founded-year', data.basicInfo?.foundedYear || data.foundedYear || new Date().getFullYear());
            setFieldValue('employees', data.basicInfo?.employees || data.employees || 1);
            setFieldValue('stage', data.investment?.currentRound?.fundingStage || data.stage || 'seed');
            setFieldValue('location', data.basicInfo?.location || data.location || '');
            setFieldValue('website', data.basicInfo?.website || data.website || '');

            // CEO/Founder Information
            const ceoData = data.founder || data.ceo || {};
            setFieldValue('ceo-name', ceoData.name || currentUser.displayName || '');
            setFieldValue('ceo-title', ceoData.title || 'CEO & Founder');
            setFieldValue('ceo-email', ceoData.email || currentUser.email || '');
            setFieldValue('ceo-phone', ceoData.phone || '');
            setFieldValue('ceo-linkedin', ceoData.linkedin || '');
            setFieldValue('ceo-twitter', ceoData.twitter || '');
            setFieldValue('ceo-bio', ceoData.bio || '');
            setFieldValue('ceo-experience', ceoData.experience || '');
            setFieldValue('ceo-education', ceoData.education || '');

            // Business Details
            setFieldValue('revenue-model', data.business?.revenueModel || data.revenueModel || 'transaction');
            setFieldValue('target-market', data.business?.targetMarket || data.targetMarket || '');
            setFieldValue('customers-count', data.business?.customersCount || data.customersCount || 0);
            setFieldValue('market-size', data.business?.marketSize || data.marketSize || '');
            setFieldValue('funding-raised', data.investment?.currentRound?.raisedAmount || data.fundingRaised || 0);
            setFieldValue('valuation', data.business?.valuation || data.valuation || 0);
            setFieldValue('competitive-advantage', data.business?.competitiveAdvantage || data.competitiveAdvantage || '');
            setFieldValue('growth-strategy', data.business?.growthStrategy || data.growthStrategy || '');

            // Social Media
            const social = data.social || {};
            setFieldValue('company-linkedin', social.linkedin || '');
            setFieldValue('company-twitter', social.twitter || '');
            setFieldValue('company-facebook', social.facebook || '');
            setFieldValue('company-instagram', social.instagram || '');
            setFieldValue('company-youtube', social.youtube || '');
            setFieldValue('press-kit', social.pressKit || '');
            setFieldValue('media-coverage', social.mediaCoverage || '');

            // Update display
            updateDisplay();
            
            console.log('✅ Form populated with business data');
        }

        function populateFormWithUserData(userData) {
            console.log('🔄 Populating form with user data...');
            
            // Pre-populate with user's signup data
            setFieldValue('company-name', userData.companyName || `${userData.firstName || ''} ${userData.lastName || ''}`.trim() + ' Business');
            setFieldValue('industry', userData.industry || 'fintech');
            setFieldValue('ceo-name', `${userData.firstName || ''} ${userData.lastName || ''}`.trim());
            setFieldValue('ceo-email', userData.email || currentUser.email);
            
            updateDisplay();
            console.log('✅ Form pre-populated with user data');
        }

        function populateFormWithDefaults() {
            console.log('🔄 Populating form with default values...');
            
            // Set basic defaults
            setFieldValue('company-name', 'Your Business Name');
            setFieldValue('tagline', 'Your business tagline');
            setFieldValue('industry', 'fintech');
            setFieldValue('founded-year', new Date().getFullYear());
            setFieldValue('employees', 1);
            setFieldValue('stage', 'seed');
            setFieldValue('ceo-name', currentUser.displayName || 'Your Name');
            setFieldValue('ceo-email', currentUser.email || '');
            setFieldValue('ceo-title', 'CEO & Founder');
            setFieldValue('revenue-model', 'transaction');
            
            updateDisplay();
            console.log('✅ Form populated with defaults');
        }

        function setFieldValue(fieldId, value) {
            const field = document.getElementById(fieldId);
            if (field && value !== null && value !== undefined) {
                field.value = value;
            }
        }

        function showLoadingState() {
            const loadingOverlay = document.createElement('div');
            loadingOverlay.id = 'loading-overlay';
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                color: #ffd700;
                font-size: 18px;
            `;
            loadingOverlay.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 10px;">⏳</div>
                    <div>Loading your business profile...</div>
                </div>
            `;
            document.body.appendChild(loadingOverlay);
        }

        function hideLoadingState() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) {
                overlay.remove();
            }
        }

        function showErrorMessage(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #ef4444, #dc2626);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                z-index: 10001;
                box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
                border: 2px solid #ef4444;
                font-weight: 600;
                text-align: center;
                max-width: 90%;
                min-width: 300px;
                animation: slideDown 0.3s ease-out;
            `;
            
            errorDiv.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <span style="font-size: 20px;">⚠️</span>
                    <span>${message}</span>
                </div>
                <div style="font-size: 13px; margin-top: 4px; opacity: 0.9;">
                    Please check your connection and try again
                </div>
            `;
            
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.style.animation = 'slideUp 0.3s ease-out';
                setTimeout(() => errorDiv.remove(), 300);
            }, 5000);
        }

        // Main updateProfile function to save to Firestore
        async function updateProfile() {
            try {
                console.log('💾 Saving business profile...');
                
                if (!currentUser) {
                    throw new Error('User not authenticated');
                }

                // Validate required fields
                const requiredFields = [
                    { id: 'company-name', name: 'Company Name' },
                    { id: 'tagline', name: 'Company Tagline' },
                    { id: 'description', name: 'Company Description' },
                    { id: 'ceo-name', name: 'CEO Name' },
                    { id: 'ceo-bio', name: 'CEO Biography' }
                ];
                
                const missingFields = requiredFields.filter(field => 
                    !document.getElementById(field.id).value.trim()
                );
                
                if (missingFields.length > 0) {
                    const fieldNames = missingFields.map(f => f.name).join(', ');
                    showErrorMessage(`Please fill in required fields: ${fieldNames}`);
                    return;
                }

                // Show saving state
                const updateBtn = document.querySelector('.btn-primary');
                const originalText = updateBtn.innerHTML;
                updateBtn.disabled = true;
                updateBtn.innerHTML = '⏳ Saving...';
                updateBtn.style.background = '#666';

                // Collect all form data
                const profileData = {
                    ownerId: currentUser.uid,
                    lastUpdated: new Date().toISOString(),
                    basicInfo: {
                        businessName: document.getElementById('company-name').value,
                        legalName: document.getElementById('legal-name').value,
                        tagline: document.getElementById('tagline').value,
                        description: document.getElementById('description').value,
                        industry: document.getElementById('industry').value,
                        foundedYear: parseInt(document.getElementById('founded-year').value),
                        employees: parseInt(document.getElementById('employees').value),
                        location: document.getElementById('location').value,
                        website: document.getElementById('website').value
                    },
                    founder: {
                        name: document.getElementById('ceo-name').value,
                        title: document.getElementById('ceo-title').value,
                        email: document.getElementById('ceo-email').value,
                        phone: document.getElementById('ceo-phone').value,
                        linkedin: document.getElementById('ceo-linkedin').value,
                        twitter: document.getElementById('ceo-twitter').value,
                        bio: document.getElementById('ceo-bio').value,
                        experience: document.getElementById('ceo-experience').value,
                        education: document.getElementById('ceo-education').value
                    },
                    business: {
                        revenueModel: document.getElementById('revenue-model').value,
                        targetMarket: document.getElementById('target-market').value,
                        customersCount: parseInt(document.getElementById('customers-count').value) || 0,
                        marketSize: document.getElementById('market-size').value,
                        valuation: parseInt(document.getElementById('valuation').value) || 0,
                        competitiveAdvantage: document.getElementById('competitive-advantage').value,
                        growthStrategy: document.getElementById('growth-strategy').value
                    },
                    investment: {
                        currentRound: {
                            fundingStage: document.getElementById('stage').value,
                            raisedAmount: parseInt(document.getElementById('funding-raised').value) || 0,
                            targetAmount: parseInt(document.getElementById('valuation').value) || 0
                        }
                    },
                    social: {
                        linkedin: document.getElementById('company-linkedin').value,
                        twitter: document.getElementById('company-twitter').value,
                        facebook: document.getElementById('company-facebook').value,
                        instagram: document.getElementById('company-instagram').value,
                        youtube: document.getElementById('company-youtube').value,
                        pressKit: document.getElementById('press-kit').value,
                        mediaCoverage: document.getElementById('media-coverage').value
                    },
                    status: {
                        isPublished: true,
                        isActive: true,
                        fundingStatus: 'active',
                        profileComplete: true
                    }
                };

                // Save to Firestore
                const db = firebase.firestore();
                await db.collection('businesses').doc(currentUser.uid).set(profileData, { merge: true });
                
                // Also update user profile to mark as complete
                await db.collection('users').doc(currentUser.uid).update({
                    profileComplete: true,
                    updatedAt: new Date().toISOString()
                });
                
                console.log('✅ Business profile saved successfully');
                
                // Clear any saved drafts
                localStorage.removeItem('businessProfileDraft');
                
                // Reset button state
                updateBtn.disabled = false;
                updateBtn.innerHTML = originalText;
                updateBtn.style.background = '';
                
                // Show enhanced success message with mobile optimization
                showSuccessMessage('Business profile saved successfully!');
                
                // Update display values
                updateDisplay();
                
                // Redirect to dashboard after a short delay
                setTimeout(() => {
                    window.location.href = 'startup-dashboard.html';
                }, 2500);
                
            } catch (error) {
                console.error('❌ Error saving business profile:', error);
                
                // Reset button state
                const updateBtn = document.querySelector('.btn-primary');
                updateBtn.disabled = false;
                updateBtn.innerHTML = '✅ Update Profile';
                updateBtn.style.background = '';
                
                showErrorMessage('Failed to save profile. Please try again.');
            }
        }

        // Enhanced success message function
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #10b981, #059669);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                z-index: 10001;
                box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
                border: 2px solid #10b981;
                font-weight: 600;
                text-align: center;
                max-width: 90%;
                min-width: 300px;
                animation: slideDown 0.3s ease-out;
            `;
            
            // Add animation keyframes if not already present
            if (!document.getElementById('success-animation-styles')) {
                const style = document.createElement('style');
                style.id = 'success-animation-styles';
                style.textContent = `
                    @keyframes slideDown {
                        from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                        to { opacity: 1; transform: translateX(-50%) translateY(0); }
                    }
                    @keyframes slideUp {
                        from { opacity: 1; transform: translateX(-50%) translateY(0); }
                        to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            successDiv.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <span style="font-size: 20px;">✅</span>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.style.animation = 'slideUp 0.3s ease-out';
                setTimeout(() => successDiv.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>