<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Test - Bvester</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: #000; 
            color: #fff; 
            padding: 20px; 
            line-height: 1.6;
        }
        .test-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 1px solid #ffd700; 
            border-radius: 5px; 
        }
        .test-result { 
            font-weight: bold; 
            margin: 10px 0; 
        }
        .pass { color: #10b981; }
        .fail { color: #ff4444; }
        .test-link { 
            color: #ffd700; 
            text-decoration: none; 
            display: block; 
            margin: 10px 0;
        }
        .test-link:hover { color: #ffed4a; }
    </style>
</head>
<body>
    <h1>üîß Bvester Login Page Test Results</h1>
    
    <div class="test-section">
        <h2>üåê URL Accessibility Test</h2>
        <div id="url-tests">
            <div class="test-result">Testing primary URL...</div>
        </div>
    </div>

    <div class="test-section">
        <h2>üé® Visual Rendering Test</h2>
        <div id="visual-tests">
            <div class="test-result">Checking page visibility...</div>
        </div>
    </div>

    <div class="test-section">
        <h2>üîó Quick Access Links</h2>
        <a href="https://bvester-com.web.app/login.html" class="test-link" target="_blank">
            ‚Üí Test Primary Login URL (bvester-com.web.app)
        </a>
        <a href="https://bizinvest-hub-prod.web.app/login.html" class="test-link" target="_blank">
            ‚Üí Test Fallback Login URL (bizinvest-hub-prod.web.app)
        </a>
        <a href="login.html" class="test-link" target="_blank">
            ‚Üí Test Local Login Page
        </a>
    </div>

    <div class="test-section">
        <h2>üìã Expected Behavior</h2>
        <ul>
            <li>‚úÖ Page should load immediately with visible content</li>
            <li>‚úÖ NO black screen or loading spinner blocking content</li>
            <li>‚úÖ Login form should be visible and functional</li>
            <li>‚úÖ Navigation header with Bvester logo should appear</li>
            <li>‚úÖ "Welcome Back" title should be visible</li>
            <li>‚úÖ Email and password fields should be accessible</li>
            <li>‚úÖ Error messages should show if API is unavailable</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üêõ Debugging Information</h2>
        <div id="debug-info">
            <div>User Agent: <span id="user-agent"></span></div>
            <div>Timestamp: <span id="timestamp"></span></div>
            <div>Screen Size: <span id="screen-size"></span></div>
        </div>
    </div>

    <script>
        // Fill debug information
        document.getElementById('user-agent').textContent = navigator.userAgent;
        document.getElementById('timestamp').textContent = new Date().toISOString();
        document.getElementById('screen-size').textContent = `${window.screen.width}x${window.screen.height}`;

        // Test URL accessibility
        async function testURL(url, name) {
            try {
                const response = await fetch(url, { method: 'HEAD' });
                return {
                    url: url,
                    name: name,
                    status: response.status,
                    success: response.ok
                };
            } catch (error) {
                return {
                    url: url,
                    name: name,
                    status: 'ERROR',
                    success: false,
                    error: error.message
                };
            }
        }

        // Run URL tests
        async function runURLTests() {
            const urlTestsDiv = document.getElementById('url-tests');
            urlTestsDiv.innerHTML = '<div class="test-result">Running URL tests...</div>';

            const urls = [
                { url: 'https://bvester-com.web.app/login.html', name: 'Primary Login URL' },
                { url: 'https://bizinvest-hub-prod.web.app/login.html', name: 'Fallback Login URL' },
                { url: 'login.html', name: 'Local Login Page' }
            ];

            for (const urlTest of urls) {
                const result = await testURL(urlTest.url, urlTest.name);
                const resultClass = result.success ? 'pass' : 'fail';
                const statusText = result.success ? '‚úÖ ACCESSIBLE' : '‚ùå FAILED';
                
                urlTestsDiv.innerHTML += `
                    <div class="test-result ${resultClass}">
                        ${statusText} - ${result.name} (${result.status})
                    </div>
                `;
            }
        }

        // Test visual rendering
        function testVisualRendering() {
            const visualTestsDiv = document.getElementById('visual-tests');
            
            const tests = [
                {
                    name: 'Document Visibility',
                    test: () => document.visibilityState === 'visible',
                    pass: '‚úÖ Page is visible',
                    fail: '‚ùå Page is hidden'
                },
                {
                    name: 'Body Opacity',
                    test: () => {
                        const bodyStyle = window.getComputedStyle(document.body);
                        return parseFloat(bodyStyle.opacity) > 0.5;
                    },
                    pass: '‚úÖ Body is visible (opacity > 0.5)',
                    fail: '‚ùå Body is hidden (opacity ‚â§ 0.5)'
                },
                {
                    name: 'CSS Loaded',
                    test: () => document.styleSheets.length > 0,
                    pass: '‚úÖ CSS stylesheets loaded',
                    fail: '‚ùå No CSS stylesheets found'
                }
            ];

            visualTestsDiv.innerHTML = '';
            
            tests.forEach(test => {
                const result = test.test();
                const resultClass = result ? 'pass' : 'fail';
                const resultText = result ? test.pass : test.fail;
                
                visualTestsDiv.innerHTML += `
                    <div class="test-result ${resultClass}">${resultText}</div>
                `;
            });
        }

        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', function() {
            runURLTests();
            testVisualRendering();
        });
    </script>
</body>
</html>